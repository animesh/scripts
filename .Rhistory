sPep[c(seq(n,n+i-1))]=sample(data,i,replace=T)
n=n+i
i=i+1
}
hist(sPep,breaks=lPep)
lPep=100
nPep=10000
nTot=lPep*nPep
data<-runif(nTot)
#hist(sample(data,100000,replace=T),breaks=nPep)
sPep=rnorm(lPep)
n=1
i=1
while(n<=lPep){
print(n)
print(i)
sPep[c(seq(n,n+i-1))]=sample(data,i,replace=T)
n=n+i
i=i+1
}
hist(sPep,breaks=lPep)
lPep=100
nPep=10000
nTot=lPep*nPep
data<-runif(nTot)
#hist(sample(data,100000,replace=T),breaks=nPep)
sPep=rnorm(lPep)
n=1
i=1
while(n<=lPep){
print(n)
print(i)
sPep[c(seq(n,n+i-1))]=sample(data,i,replace=T)
n=n+i
i=i+1
}
hist(sPep,breaks=lPep)
library(shiny)
dN_shiny <- sPep
install.packages('shiny')
library(shiny)
dN_shiny <- sPep
install.packages('shiny')
library(shiny)
dN_shiny <- sPep
#install.packages('shiny')
library(shiny)
dN_shiny <- sPep
inputPanel(
sliderInput("length", "#value:", min = 0, max = 1000, value = 100),
sliderInput("number", "#value:", min = 0, max = 1000000, value = 10000),
)
renderPlot({hist(sPep,breaks=lPep)})
renderPlot({hist(sPep,breaks=lPep)})
lPep=100
nPep=10000
nTot=lPep*nPep
data<-runif(nTot)
#hist(sample(data,100000,replace=T),breaks=nPep)
sPep=rnorm(lPep)
n=1
i=1
while(n<=lPep){
print(n)
print(i)
sPep[c(seq(n,n+i-1))]=sample(data,i,replace=T)
n=n+i
i=i+1
}
hist(sPep,breaks=lPep)
lPep=100
nPep=10000
nTot=lPep*nPep
data<-runif(nTot)
#hist(sample(data,100000,replace=T),breaks=nPep)
sPep=rnorm(lPep)
n=1
i=1
while(n<=lPep){
print(n)
print(i)
sPep[c(seq(n,n+i-1))]=sample(data,i,replace=T)
n=n+i
i=i+1
}
hist(sPep,breaks=lPep)
n1<-read.table("L:/promec/Animesh/HeLa/Metagenome data analysis/Metagenome data analysis/Norway/mgm4541725.3_genus.csv")
n1<-read.table("L:/promec/Animesh/HeLa/Metagenome data analysis/Metagenome data analysis/Norway/mgm4541725.3_genus.csv",sep='\t')
n1
n1<-read.table("L:/promec/Animesh/HeLa/Metagenome data analysis/Metagenome data analysis/Norway/mgm4541725.3_genus.csv",sep='\t')
View(n1)
typeF<-"genus"
total = data.frame(ID="genus place holder",Value=c(0),stringsAsFactors=F)#row.names(total)="bacteria"
totalG = data.frame(ID="genus place holder",Value=c(0),stringsAsFactors=F)#row.names(total)="bacteria"
View(totalG)
i1<-read.table("L:/promec/Animesh/HeLa/Metagenome data analysis/Metagenome data analysis/USA/mgm4541707.3_genus.csv",sep='\t')
View(i1)
colnames(n1) <- n1[1,]
n1<-read.table("L:/promec/Animesh/HeLa/Metagenome data analysis/Metagenome data analysis/Norway/mgm4541725.3_genus.csv",sep='\t')
colnames(n1)
n1[1,]
colnames(n1) <- n1[1,]
colnames(n1)
colnames(n1) <-  as.character(unlist(n1[1,]))
n1<-read.table("L:/promec/Animesh/HeLa/Metagenome data analysis/Metagenome data analysis/Norway/mgm4541725.3_genus.csv",sep='\t')
colnames(n1) <-  as.character(unlist(n1[1,]))
colnames(n1)
i1<-read.table("L:/promec/Animesh/HeLa/Metagenome data analysis/Metagenome data analysis/USA/mgm4541707.3_genus.csv",sep='\t')
colnames(i1) <-  as.character(unlist(i1[1,]))
merge(i1,n1)
in<-merge(i1,n1)
inT<-merge(i1,n1)
View(inT)
inT<-merge(t(i1),t(n1))
t(n1)
inT<-merge(t(i1),t(n1))
inT
merge(t(i1),t(n1))
t(i1)
t(i1)[2]
t(i1)[,2]
inT<-merge(t(i1)[,2],t(n1)[,2])
inT
View(inT)
t(i1)[,2]
t
i1[,2]
i1
i1[2,]
inT<-merge(i1[2,],n1[2,])
inT
inT<-merge(t(i1[2,]),t(n1[2,])
)
inT<-merge(t(i1[2,]),t(n1[2,]))
inT
i1<-t(i1)
n1<-t(n1)
i1$V2
i1
inT<-merge(i1,n1)
inT
names(i1)
names(i1)<-"ID"
names(i1)
t(i1)
#n1<-n1[]
i1<-read.table("L:/promec/Animesh/HeLa/Metagenome data analysis/Metagenome data analysis/USA/mgm4541707.3_genus.csv",sep='\t')
colnames(i1) <-  as.character(unlist(i1[1,]))
i1
i1<-i1[-1,]
i1
i1<-t(i1)
i1
n1<-read.table("L:/promec/Animesh/HeLa/Metagenome data analysis/Metagenome data analysis/Norway/mgm4541725.3_genus.csv",sep='\t')
colnames(n1) <-  as.character(unlist(n1[1,]))
n1<-n1[-1,]
n1<-t(n1)
#n1<-n1[]
i1<-read.table("L:/promec/Animesh/HeLa/Metagenome data analysis/Metagenome data analysis/USA/mgm4541707.3_genus.csv",sep='\t')
colnames(i1) <-  as.character(unlist(i1[1,]))
i1<-i1[-1,]
i1<-t(i1)
inT<-merge(i1,n1)
names(i1)=c("ID","count")
i1
i1<-read.table("L:/promec/Animesh/HeLa/Metagenome data analysis/Metagenome data analysis/USA/mgm4541707.3_genus.csv",sep='\t')
colnames(i1) <-  as.character(unlist(i1[1,]))
i1<-i1[-1,]
i1<-t(i1)
inT<-merge(i1,n1,by=0, all=TRUE)
inT
totalG = data.frame(ID="genus place holder",Value=c(0),stringsAsFactors=F)#row.names(total)="bacteria"
totalG
#n1<-n1[]
i1<-read.table("L:/promec/Animesh/HeLa/Metagenome data analysis/Metagenome data analysis/USA/mgm4541707.3_genus.csv",sep='\t')
i1df<-data.frame(i1$V1,i1$V2,stringsAsFactors=F)
i1df
i1df<-data.frame(i1$V1,i1$V2)
i1df
i1df<-data.frame(i1)
i1df
colnames(i1) <-  as.character(unlist(i1[1,]))
i1<-i1[-1,]
i1<-t(i1)
i1df<-data.frame(i1)
i1df
View(totalG)
#n1<-n1[]
i1<-read.table("L:/promec/Animesh/HeLa/Metagenome data analysis/Metagenome data analysis/USA/mgm4541707.3_genus.csv",sep='\t')
i1<-t(i1)
i1
colnames(i1)=c("ID","count")
i1
colnames(i1)=c("ID","Value")
colnames(i1)=c("ID","Value")
colnames(i1)
View(i1)
totalonto=merge(totalG,i1,by="ID",all = TRUE)
totalonto
totalG=merge(totalG,i1,by="ID",all = TRUE)
totalG=merge(totalG,i1,by="ID",all = TRUE)
totalonto=merge(totalG,i1,by="ID",all = TRUE)
i1df<-data.frame(i1$V1,i1$V2,stringsAsFactors=F)
totalG
totalG=merge(totalG,i1,by="ID",all = TRUE)
#n1<-n1[]
i1<-read.table("L:/promec/Animesh/HeLa/Metagenome data analysis/Metagenome data analysis/USA/mgm4541707.3_genus.csv",sep='\t')
i1<-t(i1)
colnames(i1)=c("ID","Value")
totalG = data.frame(ID="genus place holder",Value=c(0),stringsAsFactors=F)#row.names(total)="bacteria"
i1df<-data.frame(i1,stringsAsFactors=F)
i1df
totalG=merge(totalG,i1df,by="ID",all = TRUE)
totalG
totalG=merge(totalG,i1df,by="ID",all = TRUE)
totalG
totalG=merge(totalG,i1df,by="ID",all = TRUE)
n1<-read.table("L:/promec/Animesh/HeLa/Metagenome data analysis/Metagenome data analysis/Norway/mgm4541725.3_genus.csv",sep='\t')
n1<-n1[-1,]
colnames(n1) <-  as.character(unlist(n1[1,]))
n1<-t(n1)
n1
n1<-read.table("L:/promec/Animesh/HeLa/Metagenome data analysis/Metagenome data analysis/Norway/mgm4541725.3_genus.csv",sep='\t')
n1<-t(n1)
n1
colnames(n1)=c("ID","nValue")
colnames(n1)
n1
n1df<-data.frame(n1,stringsAsFactors=F)
totalG=merge(totalG,n1df,by="ID",all = TRUE)
pathD<-"L:/promec/Animesh/HeLa/Metagenome data analysis/Metagenome data analysis/"
typeF<-"genus"
list.files(path=pathD, pattern=typeF, full.names=TRUE, recursive=TRUE)
#name=names(dte)[x]
print(i)
for(i in files){
#name=names(dte)[x]
print(i)
}
files<-list.files(path=pathD, pattern=typeF, full.names=TRUE, recursive=TRUE)
for(i in files){
#name=names(dte)[x]
print(i)
}
pathD<-"L:/promec/Animesh/HeLa/Metagenome data analysis/Metagenome data analysis/Norway/"
typeF<-"genus"
files<-list.files(path=pathD, pattern=typeF, full.names=TRUE, recursive=TRUE)
totalG = data.frame(ID="genus place holder",Value=c(0),stringsAsFactors=F)#row.names(total)="bacteria"
pathD<-"L:/promec/Animesh/HeLa/Metagenome data analysis/Metagenome data analysis/Norway/"
typeF<-"genus"
files<-list.files(path=pathD, pattern=typeF, full.names=TRUE, recursive=TRUE)
totalG = data.frame(ID="genus place holder",Value=c(0),stringsAsFactors=F)#row.names(total)="bacteria"
for(i in files){
#name=names(dte)[x]
print(i)
i1<-read.table(i,sep='\t')
i1<-i1[-1,]
i1<-t(i1)
colnames(i1)=c("ID",i)
i1df<-data.frame(i1,stringsAsFactors=F)
totalG=merge(totalG,i1df,by="ID",all = TRUE)
}
files
totalG = data.frame(ID="genus place holder",Value=c(0),stringsAsFactors=F)#row.names(total)="bacteria"
for(i in files){
#name=names(dte)[x]
print(i)
i1<-read.table(i,sep='\t')
i1<-i1[-1,]
i1<-t(i1)
colnames(i1)=c("ID",i)
i1df<-data.frame(i1,stringsAsFactors=F)
totalG=merge(totalG,i1df,by="ID",all = TRUE)
}
totalG = data.frame(ID="genus place holder",Value=c(0),stringsAsFactors=F)#row.names(total)="bacteria"
#name=names(dte)[x]
print(i)
i1<-read.table(i,sep='\t')
i1<-t(i1)
i1
colnames(i1)=c("ID",i)
i1
i1df<-data.frame(i1,stringsAsFactors=F)
i1df
View(i1df)
totalG=merge(totalG,i1df,by="ID",all = TRUE)
pathD<-"L:/promec/Animesh/HeLa/Metagenome data analysis/Metagenome data analysis/USA/"
typeF<-"genus"
files<-list.files(path=pathD, pattern=typeF, full.names=TRUE, recursive=TRUE)
totalG = data.frame(ID="genus place holder",Value=c(0),stringsAsFactors=F)#row.names(total)="bacteria"
for(i in files){
#name=names(dte)[x]
print(i)
i1<-read.table(i,sep='\t')
i1<-t(i1)
colnames(i1)=c("ID",i)
i1df<-data.frame(i1,stringsAsFactors=F)
totalG=merge(totalG,i1df,by="ID",all = TRUE)
}
name=gsub(pathD, "", i)
name
pathD<-"L:/promec/Animesh/HeLa/Metagenome data analysis/Metagenome data analysis/USA/"
typeF<-"genus"
files<-list.files(path=pathD, pattern=typeF, full.names=TRUE, recursive=TRUE)
comb = data.frame(ID=typeF,Value=c(0),stringsAsFactors=F)#row.names(total)="bacteria"
for(i in files){
name=gsub(pathD, "", i)
print(name)
i1<-read.table(i,sep='\t')
i1<-t(i1)
colnames(i1)=c("ID",name)
i1df<-data.frame(i1,stringsAsFactors=F)
comb=merge(comb,i1df,by="ID",all = TRUE)
}
View(comb)
pathD<-"L:/promec/Animesh/HeLa/Metagenome data analysis/Metagenome data analysis/"
typeF<-"genus"
files<-list.files(path=pathD, pattern=typeF, full.names=TRUE, recursive=TRUE)
comb = data.frame(ID=typeF,Value=c(0),stringsAsFactors=F)#row.names(total)="bacteria"
for(i in files){
name=gsub(pathD, "", i)
print(name)
i1<-read.table(i,sep='\t')
i1<-t(i1)
colnames(i1)=c("ID",name)
i1df<-data.frame(i1,stringsAsFactors=F)
comb=merge(comb,i1df,by="ID",all = TRUE)
}
pathD<-"L:/promec/Animesh/HeLa/Metagenome data analysis/Metagenome data analysis/"
typeF<-"genus"
files<-list.files(path=pathD, pattern=typeF, full.names=TRUE, recursive=TRUE)
comb = data.frame(ID="place holder",typeF=c(0),stringsAsFactors=F)#row.names(total)="bacteria"
for(i in files){
name=gsub(pathD, "", i)
print(name)
i1<-read.table(i,sep='\t')
i1<-t(i1)
colnames(i1)=c("ID",name)
i1df<-data.frame(i1,stringsAsFactors=F)
comb=merge(comb,i1df,by="ID",all = TRUE)
}
pathD<-"L:/promec/Animesh/HeLa/Metagenome data analysis/Metagenome data analysis/"
typeF<-"genus"
files<-list.files(path=pathD, pattern=typeF, full.names=TRUE, recursive=TRUE)
comb = data.frame(ID="_holder_",typeF=typeF,stringsAsFactors=F)#row.names(total)="bacteria"
for(i in files){
name=gsub(pathD, "", i)
print(name)
i1<-read.table(i,sep='\t')
i1<-t(i1)
colnames(i1)=c("ID",name)
i1df<-data.frame(i1,stringsAsFactors=F)
comb=merge(comb,i1df,by="ID",all = TRUE)
}
pathD<-"L:/promec/Animesh/HeLa/Metagenome data analysis/Metagenome data analysis/"
typeF<-"phylum"
files<-list.files(path=pathD, pattern=typeF, full.names=TRUE, recursive=TRUE)
comb = data.frame(ID="_holder_",typeF=typeF,stringsAsFactors=F)#row.names(total)="bacteria"
for(i in files){
name=gsub(pathD, "", i)
print(name)
i1<-read.table(i,sep='\t')
i1<-t(i1)
colnames(i1)=c("ID",name)
i1df<-data.frame(i1,stringsAsFactors=F)
comb=merge(comb,i1df,by="ID",all = TRUE)
}
write.table(comb,paste(pathD,typeF,"total",".txt",sep = ""),sep = "\t",quote = FALSE,col.names = TRUE,row.names = FALSE)
comb[-1,]
View(.Last.value)
comb<-comb[-1,]
comb<-comb[,-1]
write.table(comb,paste(pathD,typeF,"total",".txt",sep = ""),sep = "\t",quote = FALSE,col.names = TRUE,row.names = FALSE)
pathD<-"L:/promec/Animesh/HeLa/Metagenome data analysis/Metagenome data analysis/"
typeF<-"phylum"
files<-list.files(path=pathD, pattern=typeF, full.names=TRUE, recursive=TRUE)
comb = data.frame(ID="_holder_",typeF=typeF,stringsAsFactors=F)#row.names(total)="bacteria"
for(i in files){
name=gsub(pathD, "", i)
print(name)
i1<-read.table(i,sep='\t')
i1<-t(i1)
colnames(i1)=c("ID",name)
i1df<-data.frame(i1,stringsAsFactors=F)
comb=merge(comb,i1df,by="ID",all = TRUE)
}
comb<-comb[-1,]
comb<-comb[,-2]
write.table(comb,paste(pathD,typeF,"total",".txt",sep = ""),sep = "\t",quote = FALSE,col.names = TRUE,row.names = FALSE)
comb[,-2]
View(.Last.value)
pathD<-"L:/promec/Animesh/HeLa/Metagenome data analysis/Metagenome data analysis/"
typeF<-"phylum"
files<-list.files(path=pathD, pattern=typeF, full.names=TRUE, recursive=TRUE)
comb = data.frame(ID="_holder_",typeF=typeF,stringsAsFactors=F)#row.names(total)="bacteria"
for(i in files){
name=gsub(pathD, "", i)
print(name)
i1<-read.table(i,sep='\t')
i1<-t(i1)
colnames(i1)=c("ID",name)
i1df<-data.frame(i1,stringsAsFactors=F)
comb=merge(comb,i1df,by="ID",all = TRUE)
}
comb<-comb[-1,]
comb<-comb[,-2]
write.table(comb,paste(pathD,typeF,"total",".txt",sep = ""),sep = "\t",quote = FALSE,col.names = TRUE,row.names = FALSE)
pathD<-"L:/promec/Animesh/HeLa/Metagenome data analysis/Metagenome data analysis/"
typeF<-"phylum*csv"
files<-list.files(path=pathD, pattern=typeF, full.names=TRUE, recursive=TRUE)
comb = data.frame(ID="_holder_",typeF=typeF,stringsAsFactors=F)#row.names(total)="bacteria"
for(i in files){
name=gsub(pathD, "", i)
print(name)
i1<-read.table(i,sep='\t')
i1<-t(i1)
colnames(i1)=c("ID",name)
i1df<-data.frame(i1,stringsAsFactors=F)
comb=merge(comb,i1df,by="ID",all = TRUE)
}
comb<-comb[-1,]
comb<-comb[,-2]
write.table(comb,paste(pathD,typeF,"total",".txt",sep = ""),sep = "\t",quote = FALSE,col.names = TRUE,row.names = FALSE)
pathD<-"L:/promec/Animesh/HeLa/Metagenome data analysis/Metagenome data analysis/"
typeF<-"phylum"
files<-list.files(path=pathD, pattern=typeF, full.names=TRUE, recursive=TRUE)
comb = data.frame(ID="_holder_",typeF=typeF,stringsAsFactors=F)#row.names(total)="bacteria"
for(i in files){
name=gsub(pathD, "", i)
print(name)
i1<-read.table(i,sep='\t')
i1<-t(i1)
colnames(i1)=c("ID",name)
i1df<-data.frame(i1,stringsAsFactors=F)
comb=merge(comb,i1df,by="ID",all = TRUE)
}
comb<-comb[-1,]
comb<-comb[,-2]
write.table(comb,paste(pathD,toupper(typeF),"total",".txt",sep = ""),sep = "\t",quote = FALSE,col.names = TRUE,row.names = FALSE)
pathD<-"L:/promec/Animesh/HeLa/Metagenome data analysis/Metagenome data analysis/"
typeF<-"phylum."
files<-list.files(path=pathD, pattern=typeF, full.names=TRUE, recursive=TRUE)
comb = data.frame(ID="_holder_",typeF=typeF,stringsAsFactors=F)#row.names(total)="bacteria"
for(i in files){
name=gsub(pathD, "", i)
print(name)
i1<-read.table(i,sep='\t')
i1<-t(i1)
colnames(i1)=c("ID",name)
i1df<-data.frame(i1,stringsAsFactors=F)
comb=merge(comb,i1df,by="ID",all = TRUE)
}
comb<-comb[-1,]
comb<-comb[,-2]
write.table(comb,paste(pathD,toupper(typeF),"total",".txt",sep = ""),sep = "\t",quote = FALSE,col.names = TRUE,row.names = FALSE)
pathD<-"L:/promec/Animesh/HeLa/Metagenome data analysis/Metagenome data analysis/"
typeF<-"phylum."
files<-list.files(path=pathD, pattern=typeF, full.names=TRUE, recursive=TRUE)
comb = data.frame(ID="_holder_",typeF=typeF,stringsAsFactors=F)#row.names(total)="bacteria"
for(i in files){
name=gsub(pathD, "", i)
print(name)
i1<-read.table(i,sep='\t')
i1<-t(i1)
colnames(i1)=c("ID",name)
i1df<-data.frame(i1,stringsAsFactors=F)
comb=merge(comb,i1df,by="ID",all = TRUE)
}
comb<-comb[-1,]
comb<-comb[,-2]
write.table(comb,paste(pathD,toupper(typeF),"total",".txt",sep = ""),sep = "\t",quote = FALSE,col.names = TRUE,row.names = FALSE)
install.packages('quantable')
library(quantable)
y<-comb
y=robustscale(y)
y
View(y)
y[is.na(y)]<-0
y=robustscale(y)
y
row.names(y)<-y[,1]
y<-y{,-1}
y[,1]
y{,-1]
y<-y{,-1]
#y[is.na(y)]<-0
y=robustscale(y)
y$data[is.na(y$data)]<-0
names(y$data)=sub("X","",names(y$data))
pheatmap(y$data,scale="row",clustering_distance_rows = "correlation",clustering_distance_cols = "correlation",fontsize_row=6)
```
y<-y[,-1]
#y[is.na(y)]<-0
y=robustscale(y)
y
#y[is.na(y)]<-0
y=robustscale(y+1)
#y[is.na(y)]<-0
summary(y)
y<-as.matrix(comb)
#y[is.na(y)]<-0
summary(y)
row.names(y)<-y[,1]
y<-y[,-1]
#y[is.na(y)]<-0
summary(y)
y=robustscale(y+1)
y=robustscale(y)
#y[is.na(y)]<-0
summary(y)
hist(ŧ)
hist(y)
